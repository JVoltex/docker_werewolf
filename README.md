## 概要
人狼ゲームを起動するdockerイメージのリポジトリです。

オンラインで遊ぶにはパブリックIPのあるサーバーで起動するか、
[ngrok](https://ngrok.com/)などを利用する必要があります。

## 使い方（ホスト）
### dockerコンテナの起動
以下のコマンドで起動します。
初回はGitHub Container Registryからイメージがpullされます。

```
docker container run -it --rm -p 3000:3000 ghcr.io/dr666m1/werewolf
```

### ゲームの設定
コンテナ起動後、役職ごとの人数・相談時間の設定を求められます。
画面の指示に従い、半角数字で入力してください。

### ポートの公開
人狼ゲームが起動しているコンテナを公開します。

#### パブリックIPのあるサーバー
GCEなどパブリックIPのあるサーバーで軌道する場合は、特別な操作は必要ありません。
ファイアウォールの設定などは各自確認してください。

#### それ以外の場合
手元のPCで起動する場合は[ngrok](https://ngrok.com/)などを利用するのが簡単です。
ただ、無料枠での利用に`4 tunnels / ngrok process`という制限があるようです。

## 使い方（全員）
ここからは参加する全員の操作です。
ブラウザから人狼ゲームが起動しているIPアドレスにアクセスします。

以下のような画面が表示されたら名前を入力して入場してください。
ホストが指定した人数がそろったらゲームが開始します。


## 残タスク
- 会話時間の調整
- 全体的なリファクタリング
- バグチェック
- Promise関連をon, catch使える部分がありそう
